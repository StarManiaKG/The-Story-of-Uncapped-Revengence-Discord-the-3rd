diff --git a/CMakeLists.txt b/CMakeLists.txt
index dd7f1e5..83b45b5 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -43,11 +43,13 @@ if(NOT EMSCRIPTEN
         set(SDL_MIXER_X_STATIC_ENABLED_BY_DEFAULT OFF)
     endif()
 
-    option(SDL_MIXER_X_STATIC   "Build static library of SDL Mixer X" ${SDL_MIXER_X_STATIC_ENABLED_BY_DEFAULT})
-    option(SDL_MIXER_X_SHARED   "Build shared library of SDL Mixer X" ${SDL_MIXER_X_SHARED_ENABLED_BY_DEFAULT})
+    option(SDL_MIXER_X_STATIC               "Build static library of SDL Mixer X"   ${SDL_MIXER_X_STATIC_ENABLED_BY_DEFAULT})
+    option(SDL_MIXER_X_SHARED               "Build shared library of SDL Mixer X"   ${SDL_MIXER_X_SHARED_ENABLED_BY_DEFAULT})
+    option(SDL_MIXER_X_DISABLE_INSTALL      "Disable install of SDL Mixer X"                                              ON)
 else()
     set(SDL_MIXER_X_STATIC ON)
     set(SDL_MIXER_X_SHARED OFF)
+    set(SDL_MIXER_X_DISABLE_INSTALL ON)
 endif()
 
 option(DOWNLOAD_AUDIO_CODECS_DEPENDENCY "Downloads and compiles AudioCodecs dependencies from git repository and build it" OFF)
@@ -498,7 +500,7 @@ if(BUILD_EXAMPLES AND NOT BUILD_AS_VB6_BINDING)
     add_subdirectory(examples)
 endif()
 
-if(SDL_MIXER_X_STATIC AND NOT BUILD_AS_VB6_BINDING)
+if((SDL_MIXER_X_STATIC AND NOT BUILD_AS_VB6_BINDING) AND NOT SDL_MIXER_X_DISABLE_INSTALL)
     install(TARGETS SDL2_mixer_ext_Static
             EXPORT SDL2MixerExtStaticTargets
             RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}"
diff --git a/SDL2_mixer_extConfig.cmake.in b/SDL2_mixer_extConfig.cmake.in
index 997d4e8..1de5346 100644
--- a/SDL2_mixer_extConfig.cmake.in
+++ b/SDL2_mixer_extConfig.cmake.in
@@ -6,10 +6,75 @@ set_package_properties(SDL2_mixer_ext PROPERTIES
 
 @PACKAGE_INIT@
 
+set(SDL_MIXER_X_USE_OGG_VORBIS              @USE_OGG_VORBIS@)
+set(SDL_MIXER_X_USE_OGG_VORBIS_STB          @USB_OGG_VORBIS_STB@)
+set(SDL_MIXER_X_USE_OPUS                    @USE_OPUS@)
+set(SDL_MIXER_X_USE_FLAC                    @USE_FLAC@)
+set(SDL_MIXER_X_USE_WAVPACK                 @USE_WAVPACK@)
+set(SDL_MIXER_X_USE_MP3_MPG123              @USE_MP3_MPG123@)
+set(SDL_MIXER_X_USE_XMP                     @USE_XMP@)
+set(SDL_MIXER_X_USE_MIDI_ADLMIDI            @USE_MIDI_ADLMIDI@)
+set(SDL_MIXER_X_USE_MIDI_EDMIDI             @USE_MIDI_EDMIDI@)
+set(SDL_MIXER_X_USE_MIDI_OPNMIDI            @USE_MIDI_OPNMIDI@)
+set(SDL_MIXER_X_USE_MIDI_FLUIDLITE          @USE_MIDI_FLUIDLITE@)
+set(SDL_MIXER_X_USE_MIDI_FLUIDSYNTH         @USE_MIDI_FLUIDSYNTH@)
+set(SDL_MIXER_X_USE_MIDI_NATIVE             @USE_MIDI_NATIVE@)
+set(SDL_MIXER_X_USE_MIDI_NATIVE_ALT         @USE_MIDI_NATIVE_ALT@)
+set(SDL_MIXER_X_USE_MIDI_TIMIDITY           @USE_MIDI_TIMIDITY@)
+
 if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/SDL2_mixer_ext-shared-targets.cmake")
     include("${CMAKE_CURRENT_LIST_DIR}/SDL2_mixer_ext-shared-targets.cmake")
 endif()
 
 if(EXISTS "${CMAKE_CURRENT_LIST_DIR}/SDL2_mixer_ext-static-targets.cmake")
+    include(CMakeFindDependencyMacro)
+
+    #if((SDL_MIXER_X_USE_OGG_VORBIS AND NOT SDL_MIXER_X_USE_OGG_VORBIS_STB) AND NOT TARGET Vorbis::vorbisfile)
+    if((SDL_MIXER_X_USE_OGG_VORBIS OR SDL_MIXER_X_USE_OGG_VORBIS_STB) AND NOT TARGET Vorbis::vorbisfile)
+    #if(SDL_MIXER_X_USE_OGG_VORBIS AND NOT TARGET Vorbis::vorbisfile)
+        find_dependency(Vorbis CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_OPUS AND NOT TARGET OpusFile::opusfile)
+        find_dependency(OpusFile CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_FLAC AND NOT TARGET FLAC::FLAC)
+        find_dependency(FLAC CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_WAVPACK AND NOT TARGET WavPack::WavPack)
+        find_dependency(WavPack CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_MP3_MPG123 AND NOT TARGET MPG123::libmpg123)
+        find_dependency(MPG123 CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_XMP AND NOT TARGET libxmp::xmp_static)
+        find_dependency(libxmp CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_MIDI_ADLMIDI AND NOT TARGET libADLMIDI::ADLMIDI_static)
+        find_dependency(libADLMIDI CONFIG)
+    endif()
+
+    #if(SDL_MIXER_X_USE_MIDI_EDMIDI AND NOT TARGET libEDMIDI::EDMIDI_static)
+    #    find_dependency(libEDMIDI CONFIG)
+    #endif()
+
+    if(SDL_MIXER_X_USE_MIDI_OPNMIDI AND NOT TARGET libOPNMIDI::OPNMIDI_static)
+        find_dependency(libOPNMIDI CONFIG)
+    endif()
+
+    #if(SDL_MIXER_X_USE_MIDI_FLUIDLITE AND NOT TARGET fluidlite::fluidlite-static)
+    if(SDL_MIXER_X_USE_MIDI_FLUIDLITE AND NOT TARGET fluidlite::fluidlite)
+        find_dependency(FluidLite CONFIG)
+    endif()
+
+    if(SDL_MIXER_X_USE_MIDI_FLUIDSYNTH AND NOT TARGET FluidSynth::libfluidsynth)
+        find_dependency(FluidSynth CONFIG)
+    endif()
+
     include("${CMAKE_CURRENT_LIST_DIR}/SDL2_mixer_ext-static-targets.cmake")
 endif()
diff --git a/cmake/find/FindFluidLite.cmake b/cmake/find/FindFluidLite.cmake
index 7674b96..1717b74 100644
--- a/cmake/find/FindFluidLite.cmake
+++ b/cmake/find/FindFluidLite.cmake
@@ -9,7 +9,7 @@ find_library(FluidLite_LIBRARY NAMES fluidlite)
 
 if(FluidLite_INCLUDE_DIR AND FluidLite_LIBRARY)
     if(APPLE)
-        find_library(FluidLite_DYNAMIC_LIBRARY NAMES "fluidlite"  PATH_SUFFIXES ".dylib")
+        find_library(FluidLite_DYNAMIC_LIBRARY NAMES "fluidlite" PATH_SUFFIXES ".dylib")
     elseif(WIN32)
         find_library(FluidLite_DYNAMIC_LIBRARY NAMES "fluidlite" PATH_SUFFIXES ".dll")
     else()
diff --git a/src/codecs/music_ffmpeg.cmake b/src/codecs/music_ffmpeg.cmake
index 285d54d..d2305f3 100644
--- a/src/codecs/music_ffmpeg.cmake
+++ b/src/codecs/music_ffmpeg.cmake
@@ -3,7 +3,7 @@ if(USE_FFMPEG AND MIXERX_LGPL)
     option(USE_FFMPEG_DYNAMIC "Use dynamical loading of FFMPEG" ON)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(FFMPEG QUIET)
+        find_package(FFMPEG REQUIRED)
         message("FFMPEG: [${FFMPEG_avcodec_FOUND}] ${FFMPEG_INCLUDE_DIRS} ${FFMPEG_swresample_LIBRARY} ${FFMPEG_avformat_LIBRARY} ${FFMPEG_avcodec_LIBRARY} ${FFMPEG_avutil_LIBRARY}")
 
         if(USE_FFMPEG_DYNAMIC)
@@ -18,10 +18,7 @@ if(USE_FFMPEG AND MIXERX_LGPL)
         endif()
 
         set(FFMPEG_LINK_LIBRARIES
-            ${FFMPEG_swresample_LIBRARY}
-            ${FFMPEG_avformat_LIBRARY}
-            ${FFMPEG_avcodec_LIBRARY}
-            ${FFMPEG_avutil_LIBRARY}
+            ${FFMPEG_LIBRARIES}
         )
     else()
         message(WARNING "FFMPEG libraries are not a part of AudioCodecs yet. Using any available from the system.")
@@ -43,7 +40,7 @@ if(USE_FFMPEG AND MIXERX_LGPL)
         set(FFMPEG_swresample_FOUND 1)
     endif()
 
-    if(FFMPEG_avcodec_FOUND AND FFMPEG_avformat_FOUND AND FFMPEG_avutil_FOUND AND FFMPEG_swresample_FOUND)
+    if(1)
         set(FFMPEG_FOUND 1)
     endif()
 
diff --git a/src/codecs/music_flac.cmake b/src/codecs/music_flac.cmake
index 1a39a49..6726655 100644
--- a/src/codecs/music_flac.cmake
+++ b/src/codecs/music_flac.cmake
@@ -3,7 +3,10 @@ if(USE_FLAC)
     option(USE_FLAC_DYNAMIC "Use dynamical loading of FLAC" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(FLAC QUIET)
+        find_package(FLAC CONFIG REQUIRED)
+        get_target_property(FLAC_INCLUDE_DIRS FLAC::FLAC INTERFACE_INCLUDE_DIRECTORIES)
+        set(FLAC_LIBRARIES FLAC::FLAC)
+        set(FLAC_FOUND 1)
         message("FLAC: [${FLAC_FOUND}] ${FLAC_INCLUDE_DIRS} ${FLAC_LIBRARIES}")
         if(USE_FLAC_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DFLAC_DYNAMIC=\"${FLAC_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_fluidlite.cmake b/src/codecs/music_fluidlite.cmake
index 83a3cac..7489725 100644
--- a/src/codecs/music_fluidlite.cmake
+++ b/src/codecs/music_fluidlite.cmake
@@ -1,10 +1,18 @@
 option(USE_MIDI_FLUIDLITE "Build with an FluidLite wave table MIDI sequencer support (a light-weight of the FluidSynth) (LGPL)" ON)
-if(USE_MIDI_FLUIDLITE AND MIXERX_LGPL)
+if((USE_MIDI_FLUIDLITE OR SDL_MIXER_X_USE_MIDI_FLUIDLITE) AND MIXERX_LGPL)
     option(USE_MIDI_FLUIDLITE_DYNAMIC "Use dynamical loading of FluidLite" OFF)
     option(USE_MIDI_FLUIDLITE_OGG_STB "Don't require the vorbis linking (set this flag if FluidLite build has std_vorbis used)" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(FluidLite QUIET)
+        find_package(FluidLite CONFIG REQUIRED)
+        if(SDL_MIXER_X_STATIC)
+            get_target_property(FluidLite_INCLUDE_DIRS fluidlite::fluidlite-static INTERFACE_INCLUDE_DIRECTORIES)
+            set(FluidLite_LIBRARIES fluidlite::fluidlite-static)
+        else()
+            get_target_property(FluidLite_INCLUDE_DIRS fluidlite::fluidlite INTERFACE_INCLUDE_DIRECTORIES)
+            set(FluidLite_LIBRARIES fluidlite::fluidlite)
+        endif()
+        set(FluidLite_FOUND 1)
         message("FluidLite: [${FluidLite_FOUND}] ${FluidLite_INCLUDE_DIRS} ${FluidLite_LIBRARIES}")
         if(USE_MIDI_FLUIDLITE_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DFLUIDSYNTH_DYNAMIC=\"${FluidLite_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_fluidsynth.cmake b/src/codecs/music_fluidsynth.cmake
index 8dd5444..303fe03 100644
--- a/src/codecs/music_fluidsynth.cmake
+++ b/src/codecs/music_fluidsynth.cmake
@@ -1,12 +1,15 @@
 option(USE_MIDI_FLUIDSYNTH "Build with FluidSynth wave table MIDI sequencer support (LGPL)" OFF)
-if(USE_MIDI_FLUIDSYNTH AND NOT USE_MIDI_FLUIDLITE AND MIXERX_LGPL)
+if((USE_MIDI_FLUIDSYNTH AND NOT (USE_MIDI_FLUIDLITE AND SDL_MIXER_X_USE_MIDI_FLUIDLITE)) AND MIXERX_LGPL)
     option(USE_MIDI_FLUIDSYNTH_DYNAMIC "Use dynamical loading of FluidSynth" OFF)
 
     if(NOT USE_SYSTEM_AUDIO_LIBRARIES)
         message(WARNING "AudioCodecs doesn't ship FluidSynth, it will be recognized from a system!!!")
     endif()
 
-    find_package(FluidSynth QUIET)
+    find_package(FluidSynth CONFIG REQUIRED)
+    get_target_property(FluidSynth_INCLUDE_DIRS FluidSynth::libfluidsynth INTERFACE_INCLUDE_DIRECTORIES)
+    set(FluidSynth_LIBRARIES FluidSynth::libfluidsynth)
+    set(FluidSynth_FOUND 1)
     message("FluidSynth: [${FluidSynth_FOUND}] ${FluidSynth_INCLUDE_DIRS} ${FluidSynth_LIBRARIES}")
     if(USE_MIDI_FLUIDSYNTH_DYNAMIC)
         list(APPEND SDL_MIXER_DEFINITIONS -DFLUIDSYNTH_DYNAMIC=\"${FluidSynth_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_gme.cmake b/src/codecs/music_gme.cmake
index e8a4553..3191068 100644
--- a/src/codecs/music_gme.cmake
+++ b/src/codecs/music_gme.cmake
@@ -3,7 +3,18 @@ if(USE_GME AND MIXERX_LGPL)
     option(USE_GME_DYNAMIC "Use dynamical loading of Game Music Emulators library" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(GME QUIET)
+        find_path(GME_INCLUDE_DIRS "gme.h" PATH_SUFFIXES gme)
+        find_library(GME_LIBRARY_RELEASE NAMES gme PATHS "${_VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/lib" NO_DEFAULT_PATH)
+        find_library(GME_LIBRARY_DEBUG NAMES gme PATHS "${_VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/debug/lib" NO_DEFAULT_PATH)
+
+        include(SelectLibraryConfigurations)
+        select_library_configurations(GME)
+
+        find_package(ZLIB REQUIRED)
+
+        list(APPEND GME_LIBRARIES ${ZLIB_LIBRARIES})
+        set(GME_FOUND 1)
+
         message("GME: [${GME_FOUND}] ${GME_INCLUDE_DIRS} ${GME_LIBRARIES}")
         if(USE_GME_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DGME_DYNAMIC=\"${GME_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_midi_adl.cmake b/src/codecs/music_midi_adl.cmake
index c8f7bbd..789ab90 100644
--- a/src/codecs/music_midi_adl.cmake
+++ b/src/codecs/music_midi_adl.cmake
@@ -3,7 +3,18 @@ if(USE_MIDI_ADLMIDI AND MIXERX_GPL)
     option(USE_MIDI_ADLMIDI_DYNAMIC "Use dynamical loading of libADLMIDI library" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(ADLMIDI QUIET)
+        find_package(libADLMIDI CONFIG REQUIRED)
+
+        if(SDL_MIXER_X_STATIC)
+            set(_adlmidi libADLMIDI::ADLMIDI_static)
+        else()
+            set(_adlmidi libADLMIDI::ADLMIDI_shared)
+        endif()
+
+        get_target_property(ADLMIDI_INCLUDE_DIRS ${_adlmidi} INTERFACE_INCLUDE_DIRECTORIES)
+        set(ADLMIDI_LIBRARIES ${_adlmidi})
+        set(ADLMIDI_FOUND 1)
+
         message("ADLMIDI: [${ADLMIDI_FOUND}] ${ADLMIDI_INCLUDE_DIRS} ${ADLMIDI_LIBRARIES}")
 
         if(USE_MIDI_ADLMIDI_DYNAMIC)
diff --git a/src/codecs/music_midi_edmidi.cmake b/src/codecs/music_midi_edmidi.cmake
index 04fc45c..62e0d33 100644
--- a/src/codecs/music_midi_edmidi.cmake
+++ b/src/codecs/music_midi_edmidi.cmake
@@ -1,10 +1,25 @@
 option(USE_MIDI_EDMIDI    "Build with libEDMIDI OPLL, PSG, and SCC Emulator based MIDI sequencer support" ON)
-if(USE_MIDI_EDMIDI)
+if(USE_MIDI_EDMIDI AND SDL_MIXER_X_USE_MIDI_EDMIDI)
     option(USE_MIDI_EDMIDI_DYNAMIC "Use dynamical loading of libEDMIDI library" OFF)
     option(USE_SYSTEM_EDMIDI "Use the library from the system even USE_SYSTEM_AUDIO_LIBRARIES is unset" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES OR USE_SYSTEM_EDMIDI)
-        find_package(EDMIDI QUIET)
+        if (false)
+            find_package(EDMIDI QUIET)
+        else()
+            find_package(libEDMIDI CONFIG REQUIRED)
+
+            if(SDL_MIXER_X_STATIC)
+                set(_edmidi libEDMIDI::EDMIDI_static)
+            else()
+                set(_edmidi libEDMIDI::EDMIDI_shared)
+            endif()
+
+            get_target_property(EDMIDI_INCLUDE_DIRS ${_edmidi} INTERFACE_INCLUDE_DIRECTORIES)
+            set(EDMIDI_LIBRARIES ${_edmidi})
+            set(EDMIDI_FOUND 1)
+        endif()
+
         message("EDMIDI: [${EDMIDI_FOUND}] ${EDMIDI_INCLUDE_DIRS} ${EDMIDI_LIBRARIES}")
         if(USE_MIDI_EDMIDI_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DEDMIDI_DYNAMIC=\"${EDMIDI_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_midi_opn.cmake b/src/codecs/music_midi_opn.cmake
index 62b9dda..2eec484 100644
--- a/src/codecs/music_midi_opn.cmake
+++ b/src/codecs/music_midi_opn.cmake
@@ -3,7 +3,18 @@ if(USE_MIDI_OPNMIDI AND MIXERX_GPL)
     option(USE_MIDI_OPNMIDI_DYNAMIC "Use dynamical loading of libOPNMIDI library" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(OPNMIDI QUIET)
+        find_package(libOPNMIDI CONFIG REQUIRED)
+
+        if(SDL_MIXER_X_STATIC)
+            set(_opnmidi libOPNMIDI::OPNMIDI_static)
+        else()
+            set(_opnmidi libOPNMIDI::OPNMIDI_shared)
+        endif()
+
+        get_target_property(OPNMIDI_INCLUDE_DIRS ${_opnmidi} INTERFACE_INCLUDE_DIRECTORIES)
+        set(OPNMIDI_LIBRARIES ${_opnmidi})
+        set(OPNMIDI_FOUND 1)
+
         message("OPNMIDI: [${OPNMIDI_FOUND}] ${OPNMIDI_INCLUDE_DIRS} ${OPNMIDI_LIBRARIES}")
 
         if(USE_MIDI_OPNMIDI_DYNAMIC)
diff --git a/src/codecs/music_modplug.cmake b/src/codecs/music_modplug.cmake
index 555bcd9..a6e51d1 100644
--- a/src/codecs/music_modplug.cmake
+++ b/src/codecs/music_modplug.cmake
@@ -4,7 +4,13 @@ if(USE_MODPLUG)
     option(USE_MODPLUG_STATIC "Use linking with a static ModPlug" ON)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(ModPlug QUIET)
+        find_path(ModPlug_INCLUDE_DIRS "modplug.h" PATH_SUFFIXES libmodplug)
+        find_library(ModPlug_LIBRARY_RELEASE NAMES modplug PATHS "${_VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/lib" NO_DEFAULT_PATH)
+        find_library(ModPlug_LIBRARY_DEBUG NAMES modplug PATHS "${_VCPKG_INSTALLED_DIR}/${VCPKG_TARGET_TRIPLET}/debug/lib" NO_DEFAULT_PATH)
+
+        include(SelectLibraryConfigurations)
+        select_library_configurations(ModPlug)
+        set(ModPlug_FOUND 1)
         message("ModPlug: [${ModPlug_FOUND}] ${ModPlug_INCLUDE_DIRS} ${ModPlug_LIBRARIES}")
         if(USE_MODPLUG_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DMODPLUG_DYNAMIC=\"${ModPlug_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_mpg123.cmake b/src/codecs/music_mpg123.cmake
index c615896..6017c21 100644
--- a/src/codecs/music_mpg123.cmake
+++ b/src/codecs/music_mpg123.cmake
@@ -4,7 +4,11 @@ if(USE_MP3_MPG123 AND MIXERX_LGPL)
     option(USE_MP3_MPG123_DYNAMIC "Use dynamical loading of MPG123" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(Mpg123 QUIET)
+        find_package(MPG123 CONFIG REQUIRED)
+
+        get_target_property(MPG123_INCLUDE_DIR MPG123::libmpg123 INTERFACE_INCLUDE_DIRECTORIES)
+        set(MPG123_LIBRARIES MPG123::libmpg123)
+        set(MPG123_FOUND 1)
         message("MPG123 found in ${MPG123_INCLUDE_DIR} folder")
         if(USE_MP3_MPG123_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DMPG123_DYNAMIC=\"${MPG123_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_ogg.cmake b/src/codecs/music_ogg.cmake
index e7930f9..8fcd7a7 100644
--- a/src/codecs/music_ogg.cmake
+++ b/src/codecs/music_ogg.cmake
@@ -1,16 +1,20 @@
 if(LIBOGG_NEEDED)
-    if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(OGG REQUIRED)
-    else()
-        if(DOWNLOAD_AUDIO_CODECS_DEPENDENCY)
-            set(OGG_LIBRARIES ogg${MIX_DEBUG_SUFFIX})
+    if(0)
+        if(USE_SYSTEM_AUDIO_LIBRARIES)
+            find_package(OGG REQUIRED)
         else()
-            find_library(OGG_LIBRARIES NAMES ogg
-                         HINTS "${AUDIO_CODECS_INSTALL_PATH}/lib")
+            if(DOWNLOAD_AUDIO_CODECS_DEPENDENCY)
+                set(OGG_LIBRARIES ogg${MIX_DEBUG_SUFFIX})
+            else()
+                find_library(OGG_LIBRARIES NAMES ogg
+                            HINTS "${AUDIO_CODECS_INSTALL_PATH}/lib")
+            endif()
+            set(OGG_FOUND 1)
         endif()
-        set(OGG_FOUND 1)
     endif()
 
-    list(APPEND SDL_MIXER_INCLUDE_PATHS ${OGG_INCLUDE_DIRS})
-    list(APPEND SDLMixerX_LINK_LIBS ${OGG_LIBRARIES})
+    if(0)
+        list(APPEND SDL_MIXER_INCLUDE_PATHS ${OGG_INCLUDE_DIRS})
+        list(APPEND SDLMixerX_LINK_LIBS ${OGG_LIBRARIES})
+    endif()
 endif()
diff --git a/src/codecs/music_ogg_vorbis.cmake b/src/codecs/music_ogg_vorbis.cmake
index 0de2bec..eb19eb0 100644
--- a/src/codecs/music_ogg_vorbis.cmake
+++ b/src/codecs/music_ogg_vorbis.cmake
@@ -3,14 +3,19 @@ if(USE_OGG_VORBIS)
     option(USE_OGG_VORBIS_DYNAMIC "Use dynamical loading of OGG Vorbis" OFF)
     option(USE_OGG_VORBIS_TREMOR "Use the Tremor - an integer-only OGG Vorbis implementation" OFF)
     option(USE_OGG_VORBIS_STB    "Use the stb_vorbis - the portable minimalistic OGG Vorbis implementation" ON)
+    #option(USE_OGG_VORBIS_STB    "Use the stb_vorbis - the portable minimalistic OGG Vorbis implementation" OFF)
 
+    #if(NOT USE_OGG_VORBIS_STB AND NOT SDL_MIXER_X_USE_OGG_VORBIS_STB)
     if(NOT USE_OGG_VORBIS_STB)
         if(USE_SYSTEM_AUDIO_LIBRARIES)
             if(USE_OGG_VORBIS_TREMOR)
                 find_package(Tremor QUIET)
                 message("Tremor: [${Tremor_FOUND}] ${Tremor_INCLUDE_DIRS} ${Tremor_LIBRARIES}")
             else()
-                find_package(Vorbis QUIET)
+                find_package(Vorbis CONFIG REQUIRED)
+                get_target_property(Vorbis_INCLUDE_DIRS Vorbis::vorbisfile INTERFACE_INCLUDE_DIRECTORIES)
+                set(Vorbis_LIBRARIES Vorbis::vorbisfile)
+                set(Vorbis_FOUND 1)
                 message("Vorbis: [${Vorbis_FOUND}] ${Vorbis_INCLUDE_DIRS} ${Vorbis_LIBRARIES}")
             endif()
 
@@ -92,6 +97,11 @@ if(USE_OGG_VORBIS)
             message("-- skipping Vorbis/Tremor --")
         endif()
     else()
+        find_package(Vorbis CONFIG REQUIRED)
+        get_target_property(Vorbis_INCLUDE_DIRS Vorbis::vorbisfile INTERFACE_INCLUDE_DIRECTORIES)
+        set(Vorbis_LIBRARIES Vorbis::vorbisfile)
+        #set(Vorbis_FOUND 1)
+
         list(APPEND SDL_MIXER_DEFINITIONS -DMUSIC_OGG -DOGG_USE_STB)
         set(LIBMATH_NEEDED 1)
         message("== using STB-Vorbis (BSD 3-Clause) ==")
@@ -103,6 +113,7 @@ if(USE_OGG_VORBIS)
             ${CMAKE_CURRENT_LIST_DIR}/music_ogg.h
         )
         appendPcmFormats("OGG Vorbis")
+    #else(USE_OGG_VORBIS_STB AND SDL_MIXER_X_USE_OGG_VORBIS_STB)
     else(USE_OGG_VORBIS_STB)
         list(APPEND SDLMixerX_SOURCES
             ${CMAKE_CURRENT_LIST_DIR}/music_ogg_stb.c
@@ -115,6 +126,7 @@ if(USE_OGG_VORBIS)
             )
         endif()
         appendPcmFormats("OGG Voribs")
+        #appendPcmFormats("OGG Vorbis")
     endif()
 
 endif()
diff --git a/src/codecs/music_opus.cmake b/src/codecs/music_opus.cmake
index 61fb32e..4ffc11c 100644
--- a/src/codecs/music_opus.cmake
+++ b/src/codecs/music_opus.cmake
@@ -3,7 +3,11 @@ if(USE_OPUS)
     option(USE_OPUS_DYNAMIC "Use dynamical loading of Opus" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(Opus QUIET)
+        find_package(OpusFile CONFIG REQUIRED)
+
+        get_target_property(Opus_INCLUDE_DIRS OpusFile::opusfile INTERFACE_INCLUDE_DIRECTORIES)
+        set(Opus_LIBRARIES OpusFile::opusfile)
+        set(Opus_FOUND 1)
         message("Opus: [${Opus_FOUND}] ${Opus_INCLUDE_DIRS} ${Opus_LIBRARIES} ${LIBOPUS_LIB}")
         if(USE_OPUS_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DOPUS_DYNAMIC=\"${OpusFile_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_wavpack.cmake b/src/codecs/music_wavpack.cmake
index f93acdb..c65f1f1 100644
--- a/src/codecs/music_wavpack.cmake
+++ b/src/codecs/music_wavpack.cmake
@@ -4,7 +4,11 @@ if(USE_WAVPACK)
     option(USE_WAVPACK_DSD "Enable WavPack DSD music support" OFF)
 
     if(USE_SYSTEM_AUDIO_LIBRARIES)
-        find_package(WavPack QUIET)
+        find_package(WavPack CONFIG REQUIRED)
+
+        get_target_property(WavPack_INCLUDE_DIRS WavPack::WavPack INTERFACE_INCLUDE_DIRECTORIES)
+        set(WavPack_LIBRARIES WavPack::WavPack)
+        set(WavPack_FOUND 1)
         message("WavPack: [${WavPack_FOUND}] ${WavPack_INCLUDE_DIRS} ${WavPack_LIBRARIES}")
         if(USE_WAVPACK_DYNAMIC)
             list(APPEND SDL_MIXER_DEFINITIONS -DWAVPACK_DYNAMIC=\"${WavPack_DYNAMIC_LIBRARY}\")
diff --git a/src/codecs/music_xmp.cmake b/src/codecs/music_xmp.cmake
index 52f2048..2eab53c 100644
--- a/src/codecs/music_xmp.cmake
+++ b/src/codecs/music_xmp.cmake
@@ -25,7 +25,15 @@ if(USE_XMP)
             set(XMP_LIBRARIES ${XMPLITE_LIBRARIES})
             set(XMP_FOUND ${XMPLITE_FOUND})
         else()
-            find_package(XMP)
+            find_package(libxmp CONFIG REQUIRED)
+            if(SDL_MIXER_X_STATIC)
+                set(_xmp libxmp::xmp_static)
+            else()
+                set(_xmp libxmp::xmp_shared)
+            endif()
+            get_target_property(XMP_INCLUDE_DIRS ${_xmp} INTERFACE_INCLUDE_DIRECTORIES)
+            set(XMP_LIBRARIES ${_xmp})
+            set(XMP_FOUND 1)
             message("XMP: [${XMP_FOUND}] ${XMP_INCLUDE_DIRS} ${XMP_LIBRARIES}")
             if(USE_XMP_DYNAMIC)
                 list(APPEND SDL_MIXER_DEFINITIONS -DXMP_DYNAMIC=\"${XMP_DYNAMIC_LIBRARY}\")
